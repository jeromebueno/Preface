(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO4SURBVHgB1VhZTtxAEK0Zhn3zsAgQPx7Ef8gJYm4AJ8gVkhMgbkBukJwAcgLgBCHfII0/+ACBYNh3nPea6ZExjLtsDFKeVNgeqt2va+tqlyQH6vW69/DwsNDR0fEJjwHEg/gxlbApW9DbhN5WrVYLJQdKWZS3t7eDSqWy1CSVFWsg+2t2dnYtyyAVwTcSSyKELMKiWxrlVIJ0JS4k9k2KxwpkGUQbaUptCYKcj8u6PI+tohFC5tPi81WCH0TOIpQUki8IfjA5i1DakHxGsBlzf+RjyVmEkM/JmKwklJgQviiB+iYDAwPS3d1thM9RFMn9/b3c3t7K+fm5XF9fm98U8Jvzf4//2LIgrDcnT9ZTYWRkRAYHB6VUSq9UqH1ycHBgiCpBV2/Yh3LsH6uiAOqhTE9Py9DQkJMcQatOTk6aBSmxFH8wBHd2dhZE4VqS42SdnZ2SFVxQtVrVqAbwZiBxgljlV9coWmt0dNSQzIvh4WHp6+vTqLasWGqWlbprBJNhbGxM3gom0O7urka1yowuI4jnNNpcfRGgB5hcLrBb4rUM1wUuZcZcnrhrh/7+fqcOeBnDlYFPLuXe3l4pEl1dXU4d8PpirqLM3iKByY044BldURDU1LusYH10wOcf5zKIx8dHKRrcYTRQEWRpKBIkp100gysUh5svLi7MVmVdzSYgj1VtU6Hcl0NLsOHSJBm+1GYzu5OjoyPJAsbc1NSUueeCtQTLmHxTo31yctJqm7ir9PT0SBZ4nmeqwc3NjVxeXjr1weuvIYhJVacrWvD09NTc09UTExPGXRrY1oyeODw8VI1BGdowV5hefU49Pj6Ws7OzFkm6jJO3q5NcAHXYyZDc/v6+3N3diRLGcCbq0TDwDBJoR7Jtiu/NdP3V1ZWZnPcswiTHHYMLYdbSctTRAO/4PTMzY/Ziu/TlLARpScYR44qJQxKvtVG0Gi3eaDQyZT3e97N1b2+yWtHCWorNhN2+bNZTcpSjEG1WzT7EgyeTFS2YlZQCsRh/aO0kPKhgtT/SRtJaTAq2/cxKxYZvxoyPj5sxLE9pYzh/8puN6lxM95FYsu2i+3i8pAV5tXWSWU1hrUy2VkwY1lTGZuI4Gsor52LnlwUGPy1QdEfDBe3t7dkYDUXzZSFJEm7043tw0SBJnJlDlKf5zB84SRLuqEfvizrEl7zAYA+yEr0P+F5PigBeNNdcbRFYhwTyHsCLFyCrUT6s5yGWK/qjp7jhsTCA8FToy8uv/CwXbOVY19aQaM6+87/EPxYA17idKV8vAAAAAElFTkSuQmCC"},24:function(e,t){e.exports="data:image/png;base64,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"},42:function(e,t,n){e.exports=n(64)},47:function(e,t,n){},49:function(e,t,n){},58:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAYAAAArdgcFAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIRSURBVHgBxZVbb9pAEIUPYJc72DgJeaFKIBSnSv9zf1VTSklb+hRfiI2NbxjcWQc5FAfY9KWfZGCt2cPR7MwskiT5nHCw2Tw/vIAoggMW+6jpGE++Y7uPCy7xOF7DnM+h6zqWng9euMTDMIBt21iv1zAME7xwiT/ZDnzfT8XtxQJhtOLZxieu6Vr223Vd+J7Hs+20uB+GlJJFtg5pbZF7noMV2EcQhHiyLFYWuQB3uQTVYLZ+rhwNolBCsbDnrVBAufwOsiS9iHtBgPG3SZpTHlzHxdfxJPe+QOLdyy5arVa6Tv9altr4dHcHib7/FVEUMej3cTsaQSiVXpwX6FE6EqpVFdOHH1RuBjY7qThFvVbH9fUVLs4VlpkMYTeoVq3gw80N6vU6ZrMZV5qazSZUctts1NK07CLsB5fLIvpX71GtVPDl/v6ocLfbxXA4QJlS8hoHS3HfxSFKR+IOihumgVM4jkPdGr1NnLW3Zdl/vatQmlh+d/GoUy0aDW8SZ47iOM7W7XYbqjrCx1sVvV4PpW2pMVhlHSJ3oHQfkOtFWimCIOCSHRpVUHFrYzjooyNLmE4fqHs9mOYcKxrJrGNPikdhBMd10Gg00tpVZDkTZrDzO1M61BMV/Pz1GxqNAjY6Ls6UnDj2rzlynGjGPCFXNFKO32vRapU8akbiev6r11zOeZFsnisyeBApbawr/wt/AD3UcU5b7RAYAAAAAElFTkSuQmCC"},59:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIwSURBVHgBzZW/axRBFMe/++P2xyUYlSRglIvES0AtTGUpEawsBEH9CwS1sxVBxEYFK8GgYqmVoNgIwSKIpNAiikRjoRbx9NDE5O7cJLe788O343mby4XdDUmRL+zuzOybz8y8eW9GA0lKOU6fEaRJyugFaHqqabpFEyoQ/BhFULqlypsGluEsWHUcwdxTSH8m1T4zWCxNQ3jvIYMyWO11qn02sAzVbEX4C5JVwGuvIHlt42DJqmCViWad/Zkkd5Q3DhZLH8EXJ+P68icwL9kdZtx5CtybikptRqw60RoJVA5/PoQWd4+ladCdffEf7n1A/ctF6lNHFvHaGyzT0w62YO8+H4NzvafJMRaC77dpkHdQibAu0UztPbAKl2D1nFm5Fh257pO0jAL8mZu0/JfkFT8jU4fecQhO4TLMHccatFUyOobhDNyAvescssrsOoL80H2Y24/Gbe2jGzTrAdh7r9GwnfC/XUeSW6y+C7D7r9Ck3Zb25HAzHKT72lgTkwCWYPPPkaYoI+mVHSz8kgqpWLTrbpH24KAqN+0Wp8EpgTKDuTpoGklBux5tjFschVO8g1zPKRWaDTTYwouMYAozPj/2L4tyvbALV5E/8BjGtsMwOofhDt5FfvABxW2/GpQvjKnDKRXM61/p+QyjawTO0D3YfWdVtMReMWB2n4C7/xHMncchyMfce9sOiq4muUIi/C3DuWdS+GWqcJkkEVZkMPtEcr/U0q79ByPLnbcV9BfAcBT0bsB6QgAAAABJRU5ErkJggg=="},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),i=(n(47),n(2)),l=n(8),s=(n(48),n(49),n(10)),m=n(3);function u(){var e=Object(i.a)(["\n  text-align:center; \n"]);return u=function(){return e},e}function d(){var e=Object(i.a)(["\n    background: #303C41;\n    color:white;\n    height: 32px;\n    font-familly: 'Fira Sans', sans-serif;\n    font-weight: 500\n"]);return d=function(){return e},e}var f=function(){var e,t,a=n(23),o=window.sessionStorage.getItem("user");return null!==o&&void 0!==o?(t=JSON.parse(o),e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"popover popover-bottom float-right"},r.a.createElement("img",{src:a,className:"icon"}),r.a.createElement("a",{href:"/profile",className:"btn btn-link float-right"},t.firstname," ",t.lastname),r.a.createElement("div",{className:"popover-container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(s.b,{to:"/profile",style:{width:"100%"},className:"btn btn-secondary mb-2"},"Profile"),r.a.createElement(s.b,{to:"/register",onClick:function(e){e.preventDefault(),window.sessionStorage.removeItem("user"),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("logged"),window.location="/"},style:{width:"100%"},className:"btn btn-primary"},"D\xe9connexion"))))))):e=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/register",className:"btn btn-primary float-right"},"Connexion / inscription")),r.a.createElement(r.a.Fragment,null,e)},p=(m.a.button(d()),m.a.div(u()),n(14)),v=n(15),g=n(17),E=n(16),b=n(18),A=Object(a.createContext)({login:function(e){},register:function(e){},findAvis:function(e){}}),h=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={login:function(e){return fetch("http://localhost:3003/login/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(201!==e.status)return Promise.resolve(!1);e.json().then(function(e){return sessionStorage.setItem("token",JSON.stringify(e.token)),sessionStorage.setItem("user",JSON.stringify(e.user)),sessionStorage.setItem("logged",JSON.stringify(e.user._id)),Promise.resolve(e)})}).catch(function(e){console.log(e)})},register:function(e){return fetch("http://localhost:3003/register/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(console.log(e),201!==e.status)return Promise.resolve(!1);e.json().then(function(e){return Promise.resolve(e)})}).catch(function(e){return Promise.resolve(e)})},findAvis:function(e){fetch("http://localhost:3003/user/NaN",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){console.log(e)})}).catch(function(e){return console.log(e)})}},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(A.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component);function C(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"column col-6 ",variant:"h6"},r.a.createElement(s.b,{to:"/"},r.a.createElement("svg",{width:"123",height:"29",viewBox:"0 0 123 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M47.318 6.208C48.518 6.208 49.406 6.646 49.982 7.522C50.558 8.398 50.846 9.628 50.846 11.212C50.846 12.196 50.696 13.072 50.396 13.84C50.108 14.596 49.676 15.19 49.1 15.622C48.536 16.054 47.864 16.27 47.084 16.27C46.076 16.27 45.278 15.922 44.69 15.226V19.672L42.386 19.924V6.478H44.402L44.528 7.648C44.9 7.168 45.326 6.808 45.806 6.568C46.286 6.328 46.79 6.208 47.318 6.208ZM46.436 14.506C47.768 14.506 48.434 13.414 48.434 11.23C48.434 10.066 48.284 9.226 47.984 8.71C47.684 8.194 47.234 7.936 46.634 7.936C46.25 7.936 45.89 8.056 45.554 8.296C45.218 8.524 44.93 8.836 44.69 9.232V13.516C45.134 14.176 45.716 14.506 46.436 14.506ZM57.8067 6.226C58.1547 6.226 58.4727 6.268 58.7607 6.352L58.3647 8.584C58.0767 8.512 57.7947 8.476 57.5187 8.476C56.9547 8.476 56.5107 8.68 56.1867 9.088C55.8627 9.484 55.6047 10.096 55.4127 10.924V16H53.1087V6.478H55.1067L55.3227 8.35C55.5507 7.666 55.8807 7.144 56.3127 6.784C56.7447 6.412 57.2427 6.226 57.8067 6.226ZM67.4597 11.014C67.4597 11.134 67.4417 11.446 67.4057 11.95H61.4297C61.5017 12.874 61.7417 13.534 62.1497 13.93C62.5577 14.326 63.0977 14.524 63.7697 14.524C64.1897 14.524 64.5857 14.458 64.9577 14.326C65.3297 14.182 65.7257 13.966 66.1457 13.678L67.0997 14.992C66.0437 15.844 64.8677 16.27 63.5717 16.27C62.1197 16.27 60.9977 15.826 60.2057 14.938C59.4257 14.05 59.0357 12.838 59.0357 11.302C59.0357 10.33 59.2037 9.46 59.5397 8.692C59.8757 7.912 60.3617 7.306 60.9977 6.874C61.6337 6.43 62.3897 6.208 63.2657 6.208C64.5977 6.208 65.6297 6.634 66.3617 7.486C67.0937 8.326 67.4597 9.502 67.4597 11.014ZM65.1737 10.348C65.1737 8.68 64.5557 7.846 63.3197 7.846C62.7557 7.846 62.3117 8.056 61.9877 8.476C61.6757 8.884 61.4897 9.544 61.4297 10.456H65.1737V10.348ZM64.6877 1.24L65.6237 3.04L61.5557 4.66L60.9077 3.49L64.6877 1.24ZM73.3786 4.156C72.9226 4.156 72.5926 4.264 72.3886 4.48C72.1966 4.684 72.1006 5.014 72.1006 5.47V6.478H74.3866L74.1346 8.134H72.1006V16H69.7966V8.134H68.2486V6.478H69.7966V5.434C69.7966 4.534 70.0846 3.808 70.6606 3.256C71.2486 2.692 72.0766 2.41 73.1446 2.41C73.9846 2.41 74.8066 2.596 75.6106 2.968L74.9446 4.516C74.4286 4.276 73.9066 4.156 73.3786 4.156ZM82.383 13.48C82.383 13.852 82.437 14.128 82.545 14.308C82.665 14.476 82.851 14.608 83.103 14.704L82.617 16.234C82.077 16.186 81.633 16.054 81.285 15.838C80.949 15.622 80.691 15.292 80.511 14.848C80.187 15.328 79.779 15.688 79.287 15.928C78.807 16.156 78.267 16.27 77.667 16.27C76.719 16.27 75.969 16 75.417 15.46C74.865 14.92 74.589 14.212 74.589 13.336C74.589 12.304 74.961 11.518 75.705 10.978C76.461 10.426 77.535 10.15 78.927 10.15H80.115V9.61C80.115 8.998 79.971 8.572 79.683 8.332C79.407 8.08 78.957 7.954 78.333 7.954C77.637 7.954 76.797 8.122 75.813 8.458L75.273 6.892C76.461 6.436 77.613 6.208 78.729 6.208C81.165 6.208 82.383 7.3 82.383 9.484V13.48ZM78.279 14.596C79.059 14.596 79.671 14.206 80.115 13.426V11.5H79.161C77.673 11.5 76.929 12.052 76.929 13.156C76.929 13.612 77.043 13.966 77.271 14.218C77.499 14.47 77.835 14.596 78.279 14.596ZM89.0052 6.208C89.6292 6.208 90.1872 6.298 90.6792 6.478C91.1832 6.658 91.6572 6.94 92.1012 7.324L91.0752 8.71C90.7512 8.47 90.4392 8.296 90.1392 8.188C89.8392 8.08 89.5092 8.026 89.1492 8.026C87.7212 8.026 87.0072 9.112 87.0072 11.284C87.0072 12.388 87.1932 13.186 87.5652 13.678C87.9372 14.158 88.4652 14.398 89.1492 14.398C89.4852 14.398 89.7912 14.344 90.0672 14.236C90.3552 14.128 90.6912 13.954 91.0752 13.714L92.1012 15.172C91.2012 15.904 90.1752 16.27 89.0232 16.27C88.1112 16.27 87.3192 16.072 86.6472 15.676C85.9752 15.268 85.4592 14.692 85.0992 13.948C84.7392 13.204 84.5592 12.328 84.5592 11.32C84.5592 10.312 84.7392 9.424 85.0992 8.656C85.4592 7.876 85.9752 7.276 86.6472 6.856C87.3192 6.424 88.1052 6.208 89.0052 6.208ZM101.227 11.014C101.227 11.134 101.209 11.446 101.173 11.95H95.1973C95.2693 12.874 95.5093 13.534 95.9173 13.93C96.3253 14.326 96.8653 14.524 97.5373 14.524C97.9573 14.524 98.3533 14.458 98.7253 14.326C99.0973 14.182 99.4933 13.966 99.9133 13.678L100.867 14.992C99.8113 15.844 98.6353 16.27 97.3393 16.27C95.8873 16.27 94.7653 15.826 93.9733 14.938C93.1933 14.05 92.8033 12.838 92.8033 11.302C92.8033 10.33 92.9713 9.46 93.3073 8.692C93.6433 7.912 94.1293 7.306 94.7653 6.874C95.4013 6.43 96.1573 6.208 97.0333 6.208C98.3653 6.208 99.3973 6.634 100.129 7.486C100.861 8.326 101.227 9.502 101.227 11.014ZM98.9413 10.348C98.9413 8.68 98.3233 7.846 97.0873 7.846C96.5233 7.846 96.0793 8.056 95.7553 8.476C95.4433 8.884 95.2573 9.544 95.1973 10.456H98.9413V10.348Z",fill:"#303C41"}),r.a.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"32",height:"16"},r.a.createElement("rect",{width:"32",height:"16",fill:"#C4C4C4"})),r.a.createElement("g",{mask:"url(#mask0)"},r.a.createElement("path",{d:"M-9.14287 16.5714C-9.14287 9.94399 -3.77028 4.57141 2.85713 4.57141H4C10.6274 4.57141 16 9.94399 16 16.5714C16 23.1988 10.6274 28.5714 3.99999 28.5714H2.85712C-3.77029 28.5714 -9.14287 23.1988 -9.14287 16.5714Z",fill:"#1EAEDC"}),r.a.createElement("path",{d:"M16 16.5714C16 9.94399 21.3726 4.57141 28 4.57141H29.1429C35.7703 4.57141 41.1429 9.94399 41.1429 16.5714C41.1429 23.1988 35.7703 28.5714 29.1429 28.5714H28C21.3726 28.5714 16 23.1988 16 16.5714Z",fill:"#1EAEDC"}))))),r.a.createElement("div",{className:"column col-6 col-mr-auto"},r.a.createElement(h,null,r.a.createElement(f,null))))}function N(){var e=Object(i.a)(["\n    width:90%;\n"]);return N=function(){return e},e}var y=m.a.div(N());function O(){return r.a.createElement(y,null,r.a.createElement("div",{class:"wrap"},r.a.createElement("div",{class:"search"},r.a.createElement("input",{type:"text",class:"searchTerm",placeholder:"What are you looking for?"}),r.a.createElement("button",{type:"submit",class:"searchButton"},r.a.createElement("i",{class:"fa fa-search"})))))}function k(){var e=Object(i.a)(["\n    font-family: Fira Sans;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 12px;\n    line-height: 22px;\n    display: flex;\n    align-items: center;\n    text-align: center;\n    color: #fff\n"]);return k=function(){return e},e}function w(){var e=Object(i.a)(["\n    padding:4px 8px;  \n    margin-left:4px;\n    display: inline-block;\n    border-radius: 30px;\n    background: ",";\n"]);return w=function(){return e},e}var S=m.a.div(w(),function(e){return e.main?"#1EAEDC":"#E5E7E9"}),j=m.a.div(k());function x(e){return r.a.createElement(S,{main:e.main},r.a.createElement(j,null,e.type))}var T=n(5),B=n(36);function H(){var e=Object(i.a)(["\n    display:inline-block;\n"]);return H=function(){return e},e}var F=n(58),I=n(59),V=m.a.div(H());function J(e){var t=Object(a.useState)(1),n=Object(T.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)(function(){return c(e.score||1)},[e.score]);var i=!!e.readonly,l=e.notation?e.notation.note:o,s=e.notation?null==e.notation.numberOfReviews?"":e.notation.numberOfReviews+" avis":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{style:{marginTop:12,float:"left"}},r.a.createElement(B.a,{name:"Rating",emptySymbol:r.a.createElement("img",{src:F,className:"icon"}),fullSymbol:r.a.createElement("img",{src:I,className:"icon"}),onChange:function(t){c(t),e.setScore(t)},initialRating:l,readonly:i})),r.a.createElement(V,{style:{color:"#303C41",fontWeight:500,marginTop:12,marginLeft:12}},l,"/5"),e.notation?r.a.createElement(V,{style:{color:"#303C41",fontWeight:300,marginTop:12,marginLeft:8}},s):r.a.createElement(r.a.Fragment,null))}var R=Object(a.createContext)({books:[],trends:[],favorites:[],formattedBooks:[],book:{},loadBooks:function(){},loadTrends:function(){},loadFavorite:function(e){},findBook:function(e){},findBookWithAdvice:function(e){},sendAdvice:function(e){},updateAdvice:function(e,t){},handleFavorite:function(e,t){}});function D(){var e=Object(i.a)(["\n  background: ",";\n  color: ",";\n"]);return D=function(){return e},e}function P(e){var t=e.book,n=Object(a.useContext)(R),o=Object(a.useState)(!1),c=Object(T.a)(o,2),i=c[0],l=c[1];Object(a.useEffect)(function(){var e=JSON.parse(sessionStorage.getItem("user"));e.like?e.like.includes(t._id)&&l(!0):l(!1)},[]);return r.a.createElement("div",null,r.a.createElement(L,{className:"btn btn-secondary btn-lg",liked:i,onClick:function(){n.handleFavorite(t._id,i),l(!i)}},i?"\u2714":"\u2764"))}var L=m.a.button(D(),function(e){return e.liked?"rgb(30, 174, 220)":"white"},function(e){return e.liked?"white !important":"rgb(30, 174, 220) !important"});function Y(){var e=Object(i.a)([""]);return Y=function(){return e},e}function U(){var e=Object(i.a)([""]);return U=function(){return e},e}function M(){var e=Object(i.a)(["\n  height: 300px;\n  width:100%;\n  margin: 24px 0;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  color: #000; \n  border: 0 ;\n"]);return M=function(){return e},e}function W(){var e=Object(i.a)(["\n  height: 200px;\n  width:100%;\n  margin: 24px 0;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  color: #000; \n  border: 0 ;\n"]);return W=function(){return e},e}function z(){var e=Object(i.a)([""]);return z=function(){return e},e}function Q(){var e=Object(i.a)([""]);return Q=function(){return e},e}function q(e){var t=!!e.miniature;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/book/".concat(e.book._id)},r.a.createElement(Z,{className:"card",miniature:t},r.a.createElement(G,{className:"card-image"},r.a.createElement(K,{img:e.book.image,miniature:t})),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{style:{textDecoration:"none",color:"#303C41"},className:"card-title h5"},e.book.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement($,null,r.a.createElement(x,{type:e.book.type[0].name,main:e.book.type[0].main})),r.a.createElement(J,{notation:e.book.notation,readonly:!0})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{style:{padding:32},className:"card",miniature:t},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-4 col-sm-12"},r.a.createElement(G,{className:"card-image"},r.a.createElement(X,{img:e.book.image}))),r.a.createElement("div",{className:"column col-7 col-sm-12"},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{style:{textDecoration:"none",color:"#303C41"}},e.book.title),r.a.createElement(_,null,e.book.description)),r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{style:{textDecoration:"none",color:"#303C41"},className:"card-title h5"},e.book.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement($,null,r.a.createElement(x,{type:e.book.type[0].name,main:e.book.type[0].main})),r.a.createElement(J,{notation:e.book.notation,readonly:!0})))),r.a.createElement("div",{class:"column col-1 col-sm-12"},r.a.createElement(P,{book:e.book}))))))}var Z=m.a.div(Q()),G=m.a.div(z()),K=m.a.div(W(),function(e){return e.img}),X=m.a.div(M(),function(e){return e.img}),_=m.a.span(U()),$=m.a.div(Y());function ee(){var e=Object(i.a)(["\n  width:100%;\n  overflow: hidden;\n"]);return ee=function(){return e},e}var te=m.a.div(ee());function ne(e){return console.log(e),r.a.createElement(te,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},e.books.map(function(t){return r.a.createElement("div",{className:"column col-3 mb-2"},r.a.createElement(q,{book:t,key:t.id,miniature:e.miniature}))}))))}var ae=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],trends:[],favorites:[],book:{},loadBooks:function(){return fetch("http://localhost:3003/book/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))}}).then(function(e){return e.json().then(function(e){return n.setState({books:e}),Promise.resolve(e)})}).catch(function(e){return console.log(JSON.stringify(e))})},loadTrends:function(){fetch("http://localhost:3003/trends/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))}}).then(function(e){return e.json().then(function(e){return n.setState({trends:e})})}).catch(function(e){return console.log(JSON.stringify(e))})},loadFavorite:function(e){fetch("http://localhost:3003/book/finds/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))},body:JSON.stringify(e)}).then(function(e){return e.json().then(function(e){n.setState({favorites:e})})}).catch(function(e){return console.log(JSON.stringify(e))})},findBook:function(e){fetch("http://localhost:3003/book/"+e+"/avis",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))}}).then(function(e){return e.json().then(function(e){n.setState({book:e})})}).catch(function(e){return console.log(JSON.stringify(e))})},sendAdvice:function(e){var t=JSON.parse(sessionStorage.getItem("logged"));fetch("http://localhost:3003/user/"+t+"/avis",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))},body:JSON.stringify(e)}).then(function(){}).catch(function(e){return console.log(JSON.stringify(e))})},updateAdvice:function(e,t){fetch("http://localhost:3003/avis/"+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))},body:JSON.stringify(t)}).then(function(){}).catch(function(e){return console.log(JSON.stringify(e))})},handleFavorite:function(e,t){var n="http://localhost:3003/book/"+e+"".concat(t?"/remove":"/add");fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))},body:JSON.stringify({userId:JSON.parse(sessionStorage.getItem("logged"))})}).then(function(e){return e.json().then(function(e){return sessionStorage.setItem("user",JSON.stringify(e))})}).catch(function(e){return console.log(JSON.stringify(e))})}},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(R.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component);function re(){var e=Object(i.a)(["\n   margin-top: 72px\n"]);return re=function(){return e},e}var oe=m.a.div(re());function ce(){var e=Object(a.useContext)(R);return Object(a.useEffect)(function(){e.loadTrends()},[]),r.a.createElement(oe,{className:"column col-sm-12 col-9 col-mx-auto"},r.a.createElement("div",null,r.a.createElement("h1",null,"Trouvez et donnez votre avis sur une lecture"),r.a.createElement(ae,null,r.a.createElement(O,null))),r.a.createElement("div",{style:{marginTop:32}},r.a.createElement("div",{style:{marginTop:40},className:"divider"}),r.a.createElement("h2",{style:{marginTop:40}},"Tendances"),r.a.createElement(ne,{miniature:!0,books:e.trends})))}var ie=Object(a.createContext)({userAdvice:[],loadUserAdvice:function(){}});function le(){var e=Object(i.a)(["\n  height: 200px;\n  width:100%;\n  margin: 24px 0;\n  background-image: url(",");\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  color: #000; \n  border: 0 ;\n"]);return le=function(){return e},e}function se(){var e=Object(i.a)(["\n  padding:24px;\n  background: #FFFFFF;\n  overflow: hidden;\n"]);return se=function(){return e},e}var me=n(23);function ue(e){var t=void 0===e.advice?null:e.advice,n=Object(a.useRef)(),o=Object(a.useContext)(R);Object(a.useEffect)(function(){o.findBook(t.bookId),n.current=!0},[]);var c={note:t.score,numberOfReviews:null};return r.a.createElement(de,null,null!=t?r.a.createElement(r.a.Fragment,null,void 0!=o.book.book?r.a.createElement(fe,{img:o.book.book.image}):null,r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-6"},r.a.createElement("img",{className:"float-left",src:me}),r.a.createElement("h4",{style:{marginLeft:16,display:"inline-block"}},t.title)),r.a.createElement(J,{className:"column col-6 float-right",notation:c,note:t.note,readonly:!0})),r.a.createElement("p",{style:{marginLeft:56,display:"inline-block"}},t.description)):null)}var de=m.a.div(se()),fe=m.a.div(le(),function(e){return e.img});function pe(){var e=Object(i.a)(["\n  padding:24px;\n  background: #FFFFFF;\n  overflow: hidden;\n"]);return pe=function(){return e},e}function ve(e){var t=void 0===e.advices?null:e.advices;return r.a.createElement(ge,null,null!=t?t.map(function(e){return r.a.createElement(ae,null,r.a.createElement(ue,{advice:e}))}):null)}var ge=m.a.div(pe());function Ee(){var e=Object(i.a)(["\n   margin-top: 72px\n"]);return Ee=function(){return e},e}var be=n(24),Ae=m.a.div(Ee());function he(){var e=Object(a.useContext)(ie),t=Object(a.useContext)(R),n=JSON.parse(window.sessionStorage.getItem("user"));return Object(a.useEffect)(function(){e.loadUserAdvice(),t.loadFavorite(n.like)},[]),r.a.createElement(Ae,{className:"column col-sm-12 col-9 col-mx-auto"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-md-12 col-8 mb-2"},r.a.createElement("div",{className:"card",style:{padding:24}},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{className:"float-left",style:{marginRight:32},width:"84px",src:be}),r.a.createElement("div",null,r.a.createElement("h2",null,n.firstname," ",n.lastname),r.a.createElement("p",null,"   ",n.email))))),r.a.createElement("div",{className:"column col-md-6 col-2"},r.a.createElement("div",{className:"card",style:{padding:"16px 24px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("p",null,"Avis"),r.a.createElement("h1",null,void 0==e.userAdvice?0:e.userAdvice.length))))),r.a.createElement("div",{className:"column col-md-6 col-2"},r.a.createElement("div",{className:"card",style:{padding:"16px 24px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("p",null,"Favoris"),r.a.createElement("h1",null,n.like.length)))))),r.a.createElement("div",{style:{marginTop:32}},r.a.createElement("div",{style:{marginTop:40},className:"divider"}),r.a.createElement("h2",{style:{marginTop:40}},"Mes avis"),r.a.createElement(ve,{advices:e.userAdvice})),r.a.createElement("div",{style:{marginTop:32}},r.a.createElement("div",{style:{marginTop:40},className:"divider"}),r.a.createElement("h2",{style:{marginTop:40}},"Mes favoris"),r.a.createElement(ne,{miniature:!0,books:t.favorites})))}function Ce(){var e=Object(i.a)(["\n\n"]);return Ce=function(){return e},e}function Ne(){var e=Object(i.a)(["\n  line-height: 14px; \n"]);return Ne=function(){return e},e}var ye=function(){var e=Object(a.useState)(""),t=Object(T.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(T.a)(c,2),s=i[0],m=i[1],u=Object(a.useContext)(A),d=function(e){var t=e.target.value;switch(e.target.id){case"email":o(t);break;case"password":m(t)}};return r.a.createElement(ke,null,r.a.createElement("h2",null,"Connexion"),r.a.createElement(Oe,{onSubmit:function(e){e.preventDefault();var t={email:n,password:s};u.login(t).then(function(e){var n;console.log(e),!1===e?(n="Utilisateur introuvable",l.b.error(n,{position:l.b.POSITION.TOP_CENTER})):(function(e){l.b.success("Bienvenue "+e+" !",{position:l.b.POSITION.TOP_CENTER})}(t.firstname),window.location="/")})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-input",id:"email",name:"email",type:"email",onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-input",id:"password",name:"password",type:"password",onChange:d})),r.a.createElement("input",{type:"submit",className:"btn btn-primary mt-2",value:"Se connecter"})))},Oe=m.a.form(Ne()),ke=m.a.form(Ce()),we=function(){var e=function(e){return l.b.error(e,{position:l.b.POSITION.TOP_CENTER})},t=Object(a.useContext)(A),n=!1,o=r.a.createRef(),c=r.a.createRef(),i=r.a.createRef(),s=r.a.createRef(),m=r.a.createRef(),u=r.a.createRef(),d=r.a.createRef();return r.a.createElement("div",null,r.a.createElement("h2",null,"Inscription"),r.a.createElement("form",{className:"form-horizontal",onSubmit:function(a){a.preventDefault();var r={firstname:o.current.value,lastname:c.current.value,email:i.current.value,password:s.current.value,confirmPassword:m.current.value,dob:u.current.value,terms:d.current.checked};console.log(r),function(t,a){console.log(t),n=!1,t.password!==t.confirmPassword&&(n=!0,e("Les mots de passe ne correspondent pas")),t.terms||(n=!0,e("Veuillez accepter les conditions d'utiisations")),console.log(n),a()}(r,function(){n||t.register(r).then(function(n){!1===n?e("Utilisateur d\xe9j\xe0 existant"):(function(e){l.b.success("Inscription r\xe9ussie "+e+", redirection ...",{position:l.b.POSITION.TOP_CENTER})}(),t.login(r).then(function(){window.location="/profile"}))})})}},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"firstname"},"Pr\xe9nom"),r.a.createElement("input",{className:"form-input",id:"firstname",name:"firstname",type:"text",ref:o,required:!0}))),r.a.createElement("div",{className:"column col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"lastname"},"Nom"),r.a.createElement("input",{className:"form-input",id:"lastname",name:"lastname",type:"text",ref:c,required:!0}))),r.a.createElement("div",{className:"column col-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-input",id:"email",name:"email",type:"email",ref:i,required:!0}))),r.a.createElement("div",{className:"column col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"password"},"Mot de passe"),r.a.createElement("input",{className:"form-input",id:"password",name:"password",type:"password",ref:s,required:!0}))),r.a.createElement("div",{className:"column col-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"confirmPassword"},"Confirmer le mot de passe"),r.a.createElement("input",{className:"form-input",id:"confirmPassword",name:"confirmPassword",type:"password",ref:m,required:!0}))),r.a.createElement("div",{className:"column col-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"dob"},"Date de naissance"),r.a.createElement("input",{className:"form-input",id:"dob",name:"dob",type:"date",ref:u}))),r.a.createElement("div",{className:"column col-6 mb-2 mt-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-checkbox",htmlFor:"terms"},r.a.createElement("input",{className:"checkbox",id:"terms",name:"terms",type:"checkbox",ref:d,required:!0})," ",r.a.createElement("i",{className:"form-icon"}),"Accepter les conditions")))),r.a.createElement("input",{type:"submit",className:"btn btn-primary mt-2",value:"Je m'inscris"})))};function Se(){var e=Object(i.a)(["\n   margin-top: 72px\n"]);return Se=function(){return e},e}var je=m.a.div(Se());n(24);function xe(){var e=Object(a.useState)(!1),t=Object(T.a)(e,2),n=(t[0],t[1],Object(a.useState)(!0)),o=Object(T.a)(n,2),c=o[0],i=o[1];Object(a.useContext)(A);return r.a.createElement(je,{className:"column col-sm-12 col-9 col-mx-auto"},r.a.createElement("div",{className:"card",style:{padding:24,marginBottom:24}},r.a.createElement("div",{className:"card-body"},c?r.a.createElement(ye,null):r.a.createElement(we,null))),r.a.createElement("button",{className:"btn btn-link p-centered",onClick:function(){i(!c)}},c?"Je n'ai pas encore de compte (gratuit)":"J'ai d\xe9j\xe0 un compte"))}var Te=n(13),Be=n(39);function He(){var e=Object(i.a)(["\n  padding:24px;\n  background: #FFFFFF;\n  overflow: hidden;\n"]);return He=function(){return e},e}var Fe=n(23);function Ie(e){var t={numberOfReviews:null,note:e.advice.score};return r.a.createElement(Ve,null,r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-6"},r.a.createElement("img",{className:"float-left",src:Fe}),r.a.createElement("h4",{style:{marginLeft:16,display:"inline-block"}},e.advice.title)),r.a.createElement(J,{className:"column col-6 float-right",notation:t,readonly:!0})),r.a.createElement("p",{style:{marginLeft:56,display:"inline-block"}},e.advice.description))}var Ve=m.a.div(He());function Je(){var e=Object(i.a)(["\n"]);return Je=function(){return e},e}function Re(){var e=Object(i.a)(["\n"]);return Re=function(){return e},e}function De(){var e=Object(i.a)(["\n  padding:32px;\n  background: #FFFFFF;\n  overflow: hidden;\n"]);return De=function(){return e},e}function Pe(e){var t=Object(a.useContext)(R),o=n(24),c=Object(a.useState)(null),i=Object(T.a)(c,2),l=i[0],s=i[1],m=Object(a.useState)(),u=Object(T.a)(m,2),d=u[0],f=u[1],p=Object(a.useState)(""),v=Object(T.a)(p,2),g=v[0],E=v[1],b=Object(a.useState)(""),A=Object(T.a)(b,2),h=A[0],C=A[1];Object(a.useEffect)(function(){N();var t=JSON.parse(sessionStorage.getItem("logged")),n=e.advices.filter(function(e){return e.userId==t})[0];void 0!=n&&(s(n._id),E(n.title),C(n.description),f(n.score))},[e.advices]);var N=function(){E(""),C(""),f(""),s(null)},y=function(e){var t=e.target.value;switch(e.target.id){case"title":E(t);break;case"text":C(t)}};return r.a.createElement(Le,{className:"card",style:{width:"100%"}},r.a.createElement("form",{className:"card-body",onSubmit:function(e){e.preventDefault();var n={title:g,description:h,score:d,userId:JSON.parse(sessionStorage.getItem("logged")),bookId:window.location.pathname.split("/").slice(-1)[0]};null==l?t.sendAdvice(n):t.updateAdvice(l,n),t.findBook(n.bookId)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{src:o,width:"84px",className:"p-centered mb-2"}),r.a.createElement(J,{style:{width:"fit-content",margin:"24px auto"},setScore:f,score:d}),r.a.createElement("input",{className:"form-input mb-2",type:"text",id:"title",name:"title",onChange:y,value:g,placeholder:"Titre d'avis",required:!0}),r.a.createElement("textarea",{placeholder:"Decrivez votre experience de lecture",className:"form-input mb-2",value:h,type:"text",id:"text",name:"text",onChange:y,required:!0}),r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"}},l?"Modifier mon avis":"Donner mon avis"))))}var Le=m.a.div(De());m.a.h2(Re()),m.a.div(Je());function Ye(){var e=Object(i.a)(["\n  width:100%;\n  overflow: hidden;\n"]);return Ye=function(){return e},e}function Ue(e){var t=e.match,n=Object(a.useContext)(R);return Object(a.useEffect)(function(){n.findBook(t.params.id)},[]),void 0===n.book.book?r.a.createElement("div",null):r.a.createElement(Me,{style:{marginTop:32},className:"column  col-12 col-mx-auto"},r.a.createElement("div",{className:"columns",style:{width:"100%"}},r.a.createElement("div",{className:"column col-sm-12 col-8 col-mx-auto"},r.a.createElement(q,{book:n.book.book,key:n.book.book._id})),r.a.createElement("div",{className:"column col-sm-12 col-4 col-mx-auto"},r.a.createElement(Pe,{advices:n.book.avis}))),r.a.createElement("div",{style:{marginTop:40},className:"divider"}),r.a.createElement("div",Object(Be.a)({style:{marginTop:32},className:"columns"},"style",{width:"100%"}),r.a.createElement("div",{className:"columns",style:{width:"100%"}},r.a.createElement("div",{style:{marginTop:32},className:"column col-12 mb-2"},r.a.createElement("h3",null,"Avis des utilisateurs")),n.book.avis.map(function(e){return r.a.createElement("div",{className:"column col-6 col-sm-12 mb-2"},r.a.createElement(Ie,{advice:e}))}))))}var Me=m.a.div(Ye()),We=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={loadUserAdvice:function(){var e=JSON.parse(sessionStorage.getItem("logged"));fetch("http://localhost:3003/user/"+e+"/avis/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("token"))}}).then(function(e){return e.json().then(function(e){return n.setState({userAdvice:e.avis})})}).catch(function(e){return console.log(JSON.stringify(e))})}},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(ie.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component);function ze(){var e=Object(i.a)(['\n  height: 100vh;\n  padding: 40px 5vw;\n  background-image: url("bg.jpg");\n  background-size: cover;\n  background-position: left;\n']);return ze=function(){return e},e}var Qe=m.a.div(ze()),qe=function(){return r.a.createElement(Qe,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement(l.a,null),r.a.createElement(s.a,null,r.a.createElement(C,null),r.a.createElement("div",{className:"column col-12"},r.a.createElement(h,null,r.a.createElement(Te.a,{exact:!0,path:"/register",component:xe})),r.a.createElement(ae,null,r.a.createElement(Te.a,{exact:!0,path:"/",component:ce}),r.a.createElement(We,null,r.a.createElement(Te.a,{exact:!0,path:"/profile",component:he})),r.a.createElement(Te.a,{exact:!0,path:"/book/:id",component:Ue}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.dc6c6fca.chunk.js.map